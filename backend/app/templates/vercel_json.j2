{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "version": 2,
  "name": "{{ project_name | replace(' ', '-') | lower }}",
{% if framework == "vercel-ai" %}
  "buildCommand": "npm install && npx tsc",
  "outputDirectory": "dist",
  "functions": {
    "api/**/*.ts": {
      "runtime": "@vercel/node@3",
      "maxDuration": 60
    }
  },
  "routes": [
    { "src": "/api/(.*)", "dest": "/api/$1" }
  ],
{% elif framework in ("rig", "adk-go") %}
  "builds": [
    {
      "src": "Dockerfile",
      "use": "@vercel/static-build"
    }
  ],
  "routes": [
    { "src": "/(.*)", "dest": "/" }
  ],
{% else %}
  "builds": [
    {
      "src": "agent.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    { "src": "/(.*)", "dest": "agent.py" }
  ],
{% endif %}
  "env": {
{% for var in env_vars %}
    "{{ var }}": "@{{ var | lower | replace('_', '-') }}"{{ "," if not loop.last else "" }}
{% endfor %}
  }
}

